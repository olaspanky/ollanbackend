{"level":"error","message":"MongoDB connection error: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:25:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-07-05T13:17:57.090Z"}
{"level":"error","message":"MongoDB connection error: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:26:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-07-05T13:18:18.210Z"}
{"level":"error","message":"MongoDB connection error: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:26:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-07-05T13:22:45.758Z"}
{"level":"error","message":"MongoDB connection error: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:26:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-07-05T13:23:41.124Z"}
{"level":"error","message":"MongoDB connection error: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:26:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-07-05T13:25:27.054Z"}
{"level":"error","message":"MongoDB connection error: Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"","stack":"MongoParseError: Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"\n    at new ConnectionString (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb-connection-string-url/lib/index.js:86:19)\n    at parseOptions (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/connection_string.js:203:17)\n    at new MongoClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/mongo_client.js:65:61)\n    at NativeConnection.createClient (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:343:14)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at Object.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/server.js:27:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)","timestamp":"2025-07-05T13:28:06.645Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T13:31:35.168Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T13:33:10.421Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T13:33:10.434Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T13:35:37.294Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T13:35:37.298Z"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987152,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987325,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987153,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"errorLabelSet":{},"level":"error","message":"MongoDB connection error: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987152,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987325,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":103987153,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1165:11)\n    at NativeConnection.openUri (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/connection.js:1096:11)","timestamp":"2025-07-05T14:01:08.566Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T14:05:14.204Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:13:5)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/index.js:295:15","timestamp":"2025-07-05T14:05:14.219Z"}
{"level":"error","message":"File not found after upload: /Users/macintoshhd/Documents/ollanpharmacy/backend/src/Uploads/1751725466713-images (1).jpeg","timestamp":"2025-07-05T14:24:26.720Z"}
{"level":"error","message":"File not found after upload: /Users/macintoshhd/Documents/ollanpharmacy/backend/src/uploads/1751725598458-images (1).jpeg","timestamp":"2025-07-05T14:26:38.462Z"}
{"level":"error","message":"File not found after upload: /Users/macintoshhd/Documents/ollanpharmacy/backend/src/uploads/1751725620699-images (1).jpeg","timestamp":"2025-07-05T14:27:00.702Z"}
{"level":"error","message":"File not found after upload: /Users/macintoshhd/Documents/ollanpharmacy/backend/src/uploads/1751725776467-images (1).jpeg","timestamp":"2025-07-05T14:29:36.468Z"}
{"level":"error","message":"File not found after upload: /Users/macintoshhd/Documents/ollanpharmacy/backend/src/uploads/1751725827517-images (1).jpeg","timestamp":"2025-07-05T14:30:27.519Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:18:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-05T14:32:50.602Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:32:50.618Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:32:50.802Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:18:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-05T14:32:50.811Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:33:15.271Z"}
{"level":"error","message":"Get cart error: Cart.findOne is not a function","stack":"TypeError: Cart.findOne is not a function\n    at exports.getCart (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/cartController.js:40:29)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at exports.authMiddleware (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/middleware/auth.js:18:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-05T14:33:15.401Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:33:15.471Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:34:45.607Z"}
{"level":"error","message":"Get products error: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"createdBy","stack":"StrictPopulateError: Cannot populate path `createdBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4468:21)\n    at Function.populate (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/model.js:4435:21)\n    at model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)\n    at async exports.getProducts (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:56:22)","timestamp":"2025-07-05T14:34:45.833Z"}
{"code":"ETIMEOUT","hostname":"_mongodb._tcp.cluster0.ywktsea.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ETIMEOUT _mongodb._tcp.cluster0.ywktsea.mongodb.net","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.cluster0.ywktsea.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:291:17)","syscall":"querySrv","timestamp":"2025-07-05T15:23:48.577Z"}
{"code":"ETIMEOUT","hostname":"_mongodb._tcp.cluster0.ywktsea.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ETIMEOUT _mongodb._tcp.cluster0.ywktsea.mongodb.net","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.cluster0.ywktsea.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:291:17)","syscall":"querySrv","timestamp":"2025-07-05T15:24:42.978Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get products error: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000086"},"maxSetVersion":48,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068161,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068164,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068163,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net\n    at Topology.selectServer (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at listOnTimeout (node:internal/timers:540:9)\n    at process.processTimers (node:internal/timers:514:7)\n    at async tryOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:192:22)\n    at async executeOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)","timestamp":"2025-07-06T09:12:29.590Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Auth middleware error: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000086"},"maxSetVersion":48,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068161,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068164,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068163,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net\n    at Topology.selectServer (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at listOnTimeout (node:internal/timers:540:9)\n    at process.processTimers (node:internal/timers:514:7)\n    at async tryOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:192:22)\n    at async executeOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)","timestamp":"2025-07-06T09:12:29.637Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get products error: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000086"},"maxSetVersion":48,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068161,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068164,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173068163,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net\n    at Topology.selectServer (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at async tryOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:192:22)\n    at async executeOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)\n    at async FindCursor.toArray (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)\n    at async model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2407:14)","timestamp":"2025-07-06T09:12:29.676Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get products error: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000086"},"maxSetVersion":48,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296828,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296875,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296828,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net\n    at Topology.selectServer (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at async tryOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)\n    at async executeOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)\n    at async FindCursor.toArray (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)\n    at async model.Query._find (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2407:14)","timestamp":"2025-07-06T09:16:18.012Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Auth middleware error: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000086"},"maxSetVersion":48,"servers":{"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-00.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296828,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-01.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296875,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017":{"$clusterTime":null,"address":"ac-sgnvqab-shard-00-02.ywktsea.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":173296828,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-138hxh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-sgnvqab-shard-00-02.ywktsea.mongodb.net\n    at Topology.selectServer (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at async tryOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)\n    at async executeOperation (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)\n    at async Collection.findOne (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongodb/lib/collection.js:277:21)\n    at async model.Query._findOne (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:2687:15)\n    at async model.Query.exec (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/mongoose/lib/query.js:4604:63)","timestamp":"2025-07-06T09:16:18.363Z"}
{"level":"error","message":"Create product error: Uploadcare.upload is not a function","stack":"TypeError: Uploadcare.upload is not a function\n    at exports.createProduct (/Users/macintoshhd/Documents/ollanpharmacy/backend/src/controllers/productController.js:19:37)\n    at Layer.handleRequest (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/router/lib/route.js:157:13)\n    at done (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/multer/lib/make-middleware.js:59:7)\n    at indicateDone (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/multer/lib/make-middleware.js:63:68)\n    at /Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/multer/lib/make-middleware.js:171:11\n    at WriteStream.<anonymous> (/Users/macintoshhd/Documents/ollanpharmacy/backend/node_modules/multer/storage/disk.js:43:9)\n    at WriteStream.emit (node:events:531:35)\n    at finish (node:internal/streams/writable:946:10)\n    at node:internal/streams/writable:927:13","timestamp":"2025-07-06T16:20:09.636Z"}
